# Схема подключения ЖОПА

## Компоненты
- Arduino Uno
- LCD 16x2 с I2C-модулем (PCF8574, адрес 0x27 или 0x3F)
- HC-SR04 ультразвуковой датчик расстояния
- USB кабель (Arduino → ПК)
- Микрофон (подключён к ПК)
- Динамик / наушники (подключены к ПК)

## Подключение LCD I2C → Arduino Uno

```
LCD I2C    Arduino Uno
───────    ───────────
VCC    →   5V
GND    →   GND
SDA    →   A4
SCL    →   A5
```

## Подключение HC-SR04 → Arduino Uno

```
HC-SR04    Arduino Uno
───────    ───────────
VCC    →   5V
GND    →   GND
TRIG   →   D7
ECHO   →   D6
```

## Визуальная схема

```
                  Arduino Uno
               ┌─────────────────┐
               │   A4  ← SDA     │◄── LCD I2C
               │   A5  ← SCL     │◄── LCD I2C
               │                 │
               │   D7  → TRIG    │──► HC-SR04
               │   D6  ← ECHO   │◄── HC-SR04
               │                 │
               │   5V  ──────────┼──► LCD VCC
               │   5V  ──────────┼──► HC-SR04 VCC
               │   GND ──────────┼──► LCD GND
               │   GND ──────────┼──► HC-SR04 GND
               │                 │
               │      USB        │
               └────────┬────────┘
                        │
                   ┌────┴────┐
                   │   ПК    │
                   │ Python  │
                   └─────────┘
```

## Что отображается на дисплее

LCD 16x2 показывает аниме-лицо:

```
┌────────────────┐
│  (o)(o)  (o)(o)│  ← строка 0: глаза (позиции 2-3 и 12-13)
│       :)       │  ← строка 1: рот (позиция 7)
└────────────────┘
```

Каждый глаз = 2 кастомных символа (5x8 пикселей каждый).
Рот = 1 кастомный символ.

### Используемые слоты кастомных символов (0-7):
- 0, 1 — левая/правая половина открытого глаза
- 2, 3 — левая/правая половина закрытого глаза
- 4 — рот: улыбка :)
- 5 — рот: маленький "о"
- 6 — рот: большой "О"
- 7 — рот: точки (слушает)

### Режимы:
- **Idle** — глаза открыты, улыбка, моргает, смотрит по сторонам
- **Слушает** — пульсирующие точки вместо рта
- **Говорит** — рот меняется (закрыт → маленький → большой)
- **Сон** — закрытые глаза (^_^), "z Z z"
- **Эмоции** — удивление, злость, смех, подмигивание (по команде от Python)

## Определение I2C-адреса

Если дисплей не работает — загрузи I2C Scanner скетч:

```cpp
#include <Wire.h>
void setup() {
  Wire.begin();
  Serial.begin(9600);
  for (byte addr = 1; addr < 127; addr++) {
    Wire.beginTransmission(addr);
    if (Wire.endTransmission() == 0) {
      Serial.print("Found: 0x");
      Serial.println(addr, HEX);
    }
  }
}
void loop() {}
```

Найденный адрес подставь в скетч:
```cpp
LiquidCrystal_I2C lcd(0x27, 16, 2); // ← сюда
```

## Библиотека Arduino
Установить через Arduino IDE:
`Sketch → Include Library → Manage Libraries → "LiquidCrystal I2C"`
(by Frank de Brabander или johnrickman)
